# Scientific Gym - Patient Database System
## Simplified Product Requirements Document

**Version:** 2.0 - Simplified  
**Date:** October 26, 2025

---

## System Overview

A streamlined patient management system that:
1. Stores patient profiles and health data
2. Tracks assessments and scores
3. Logs workouts via Claude conversation
4. Generates automated weekly/monthly summaries
5. Sends updates via WhatsApp and Email

---

## 1. Notion Database Structure

### Database 1: PATIENTS (Master Database)

**Personal Details:**
- Patient ID (Unique ID) - Auto-generated
- Full Name (Title)
- Email (Email)
- Phone (Phone)
- Date of Birth (Date)
- Gender (Select: Male/Female/Other)
- Status (Select: Active/Inactive)
- Registration Date (Date)
- Assigned Trainer (Relation â†’ Trainers DB)

**Body Details:**
- Height (Number) - in cm
- Weight (Number) - in kg
- BMI (Formula: Weight/(Height/100)Â²)
- Chest (Number) - in cm
- Waist (Number) - in cm
- Hips (Number) - in cm
- Thigh (Number) - in cm
- Arm (Number) - in cm

**Injury Records:**
- Key Injuries (Rich Text)
- Current Pain/Discomfort (Rich Text)
- Medical Notes (Rich Text)
- Restrictions (Multi-select: No Heavy Lifting, No Running, No Overhead Movements, Neck Issues, Back Issues, Knee Issues, Shoulder Issues)

**Current Assessment Info:**
- Last Assessment Date (Date)
- Current Overall Score (Number) - 0-100
- Current Strength Score (Number) - 0-100
- Current Mobility Score (Number) - 0-100
- Current Balance Score (Number) - 0-100
- Current Flexibility Score (Number) - 0-100

**Goals & Program:**
- Primary Goal (Select: Weight Loss/Muscle Gain/Endurance/Flexibility/General Fitness/Rehabilitation/Athletic Performance)
- Target Weight (Number)
- Goal Notes (Rich Text)
- Suggested Program (Rich Text)

**Relations:**
- Assessment Logs (Relation â†’ Assessment Logs DB)
- Workout Logs (Relation â†’ Workout Logs DB)
- Weekly Summaries (Relation â†’ Weekly Logs DB)
- Monthly Summaries (Relation â†’ Monthly Logs DB)

---

### Database 2: TRAINERS

**Properties:**
- Trainer ID (Unique ID)
- Name (Title)
- Email (Email)
- Phone (Phone)
- Active Status (Checkbox)
- Specialization (Multi-select: Strength, Cardio, Flexibility, Rehabilitation, Sports)
- Assigned Patients (Relation â†’ Patients DB)

---

### Database 3: ASSESSMENT LOGS

**Basic Info:**
- Assessment ID (Title) - Auto-generated
- Patient (Relation â†’ Patients DB)
- Assessment Date (Date)
- Assessed By (Relation â†’ Trainers DB)
- Assessment Number (Number) - 1, 2, 3...

**Segment Scores (0-100):**
- Strength Score (Number)
- Mobility Score (Number)
- Balance Score (Number)
- Flexibility Score (Number)
- Overall Score (Formula: Average of 4 segments)

**Detailed Results:**
- Strength Tests Details (Rich Text)
- Mobility Tests Details (Rich Text)
- Balance Tests Details (Rich Text)
- Flexibility Tests Details (Rich Text)

**Goals & Program:**
- Goals Set (Rich Text)
- Program Suggested (Rich Text)
- Focus Areas (Multi-select: Upper Body Strength, Lower Body Strength, Core, Cardio, Flexibility, Balance, Mobility)
- Trainer Notes (Rich Text)

**Comparison:**
- Previous Assessment Score (Rollup from previous assessment)
- Score Change (Formula: Current - Previous)
- Improvement Percentage (Formula)

---

### Database 4: WORKOUT LOGS

**Session Info:**
- Log ID (Title) - Auto-generated
- Patient (Relation â†’ Patients DB)
- Date (Date)
- Trainer (Relation â†’ Trainers DB)
- Duration (Number) - in minutes

**Workout Details:**
- Exercises & Sets (Rich Text)
  - Format: "Exercise name - Sets x Reps @ Weight"
  - Example: "Bench Press - 3x10 @ 60kg"
- Focus Areas (Multi-select: Strength, Cardio, Flexibility, Mobility, Balance, Core)

**Trainer Commentary:**
- What I Noticed (Rich Text)
  - Energy levels, form quality, effort
- What's Improving (Rich Text)
  - Specific improvements observed
- Concerns/Issues (Rich Text)
  - Pain, form problems, motivation issues
- Overall Session Rating (Select: Excellent/Good/Average/Below Average/Poor)

**Patient Feedback:**
- Patient Self-Rating (Select: 1-Very Hard/2-Hard/3-Moderate/4-Easy/5-Very Easy)
- Patient Comments (Rich Text)

---

### Database 5: WEEKLY LOGS

**Basic Info:**
- Week ID (Title) - "Week of [Start Date]"
- Patient (Relation â†’ Patients DB)
- Week Start Date (Date)
- Week End Date (Date)
- Generated Date (Date)

**Summary Metrics:**
- Total Sessions (Rollup: Count of workouts)
- Total Training Minutes (Rollup: Sum of duration)
- Average Session Rating (Rollup: Average)
- Attendance Rate (Formula: Actual/Planned sessions %)

**AI-Generated Summary:**
- Weekly Progress Summary (Rich Text)
  - Generated by Claude from workout logs
- Key Improvements (Rich Text)
- Concerns Noted (Rich Text)
- Recommendations (Rich Text)

**Delivery Status:**
- WhatsApp Sent (Checkbox)
- Email Sent (Checkbox)
- Sent Date (Date)

---

### Database 6: MONTHLY LOGS

**Basic Info:**
- Month ID (Title) - "Month of [Month Year]"
- Patient (Relation â†’ Patients DB)
- Month Start Date (Date)
- Month End Date (Date)
- Generated Date (Date)

**Summary Metrics:**
- Total Sessions (Rollup: Count of workouts)
- Total Training Minutes (Rollup: Sum)
- Average Session Rating (Rollup: Average)
- Monthly Attendance Rate (Formula)

**Body Measurements Comparison:**
- Start Weight (Number)
- End Weight (Number)
- Weight Change (Formula)
- Start Measurements (Rich Text)
- End Measurements (Rich Text)
- Body Changes Summary (Rich Text)

**AI-Generated Summary:**
- Monthly Progress Summary (Rich Text)
- Major Achievements (Rich Text)
- Challenges Faced (Rich Text)
- Next Month Focus (Rich Text)
- Trainer's Overall Comments (Rich Text)

**Delivery Status:**
- WhatsApp Sent (Checkbox)
- Email Sent (Checkbox)
- Sent Date (Date)

---

## 2. Claude Integration - Workout Logging

### How Trainers Use Claude

Trainers simply **talk to Claude** naturally to log workouts. Claude extracts structured data and saves it to Notion.

### Example Conversations:

**Example 1: Quick Workout Log**
```
Trainer: "Log workout for Rahul Sharma. Today 45 min strength session. 
Did bench press 3x10 at 60kg, squats 3x12 at 80kg, shoulder press 3x10 at 25kg.
Noticed his form on squats is much better, depth improved. Energy was good.
Slight shoulder tightness mentioned, need to watch that."

Claude: "âœ“ Workout logged for Rahul Sharma

Date: Oct 26, 2025
Duration: 45 minutes
Exercises:
- Bench Press: 3x10 @ 60kg
- Squats: 3x12 @ 80kg
- Shoulder Press: 3x10 @ 25kg

Improvements: Form on squats better, depth improved
Concerns: Slight shoulder tightness
Session Rating: Good

Saved to Notion! Anything else?"
```

**Example 2: Detailed Session with Multiple Observations**
```
Trainer: "Session with Priya Mehta, 60 minutes today. 
We did upper body - bench press 4x8 at 45kg, rows 4x10 at 40kg, 
lat pulldowns 3x12 at 35kg, bicep curls 3x15 at 10kg, tricep dips 3x10 bodyweight.

She's showing great improvement in pushing strength, added 5kg to bench since last month.
Pull strength still lagging, especially in rows. Form is good but needs more volume there.
Energy level was excellent today, very motivated. She mentioned work stress but it didn't 
affect the workout. No pain or issues. Plan to increase pulling volume next week."

Claude: "âœ“ Workout logged for Priya Mehta

Date: Oct 26, 2025
Duration: 60 minutes
Focus: Upper Body Strength

Exercises:
- Bench Press: 4x8 @ 45kg
- Rows: 4x10 @ 40kg
- Lat Pulldowns: 3x12 @ 35kg
- Bicep Curls: 3x15 @ 10kg
- Tricep Dips: 3x10 (bodyweight)

What's Improving:
- Pushing strength increased significantly
- Added 5kg to bench press (great progress!)
- Excellent energy and motivation

Concerns/Focus Areas:
- Pull strength lagging behind
- Needs more volume on rowing movements

Next Session Plan: Increase pulling volume

Session Rating: Excellent

Saved to Notion âœ“"
```

**Example 3: Session with Injury Concern**
```
Trainer: "Workout with Amit Singh, 40 min lower body. 
Leg press 3x15 at 100kg, leg curls 3x12 at 30kg, calf raises 3x20 at 40kg.
He complained of right knee discomfort during leg press, stopped after 2nd set.
Switched to lighter weight and higher reps for leg curls - no issues there.
Form is fine but need to watch the knee. Might need physio consultation.
Overall session was okay but cut short due to knee."

Claude: "âš ï¸ Workout logged for Amit Singh (with injury concern)

Date: Oct 26, 2025  
Duration: 40 minutes
Focus: Lower Body (modified)

Exercises:
- Leg Press: 2x15 @ 100kg (stopped early)
- Leg Curls: 3x12 @ 30kg (modified - lighter weight)
- Calf Raises: 3x20 @ 40kg

âš ï¸ CONCERNS:
- Right knee discomfort during leg press
- Session stopped early due to pain
- Recommend physio consultation

Modifications Made:
- Reduced weight on leg curls
- Avoided further leg press

Session Rating: Below Average (due to injury)

Saved to Notion âœ“
ğŸš¨ Alert sent to gym manager about knee injury"
```

**Example 4: Assessment Logging**
```
Trainer: "Complete assessment for Sneha Patel.
Strength tests: Upper body push 75, pull 70, lower body squat 72, deadlift 68, core 80.
Mobility: Hip 65, shoulder 60, ankle 70, spine 68.
Balance: Single leg 75, dynamic 72.
Flexibility: Hamstring 62, hip flexor 58, shoulder 65, lower back 60.

Overall she's intermediate level, good base. Primary focus should be lower body strength 
and hip flexor flexibility. She has mild lower back tightness, recommend more core work 
and stretching. Goal is to improve overall by 10 points in 6 months.

Suggested program: 3x week strength, 2x mobility/flexibility. Focus on compound lifts 
and hip opening stretches."

Claude: "âœ“ Assessment completed for Sneha Patel

Assessment Date: Oct 26, 2025
Assessment #1 (Initial)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
SCORES:
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Strength: 73/100 (Average: 5 tests)
  - Upper Push: 75
  - Upper Pull: 70
  - Squat: 72
  - Deadlift: 68
  - Core: 80

Mobility: 65.75/100 (Average: 4 tests)
  - Hip: 65
  - Shoulder: 60
  - Ankle: 70
  - Spine: 68

Balance: 73.5/100 (Average: 2 tests)
  - Single Leg: 75
  - Dynamic: 72

Flexibility: 61.25/100 (Average: 4 tests)
  - Hamstring: 62
  - Hip Flexor: 58
  - Shoulder: 65
  - Lower Back: 60

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
OVERALL SCORE: 68.4/100
FITNESS LEVEL: Intermediate
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

PRIMARY FOCUS AREAS:
1. Flexibility (especially hip flexors)
2. Mobility (shoulder needs work)
3. Lower Body Strength (squat & deadlift)

GOALS SET:
- Improve overall score by 10 points
- Timeline: 6 months

PROGRAM SUGGESTED:
- 3x/week: Strength training (compound lifts)
- 2x/week: Mobility & flexibility
- Special focus: Hip opening stretches
- Core strengthening for back support

MEDICAL NOTES:
- Mild lower back tightness
- No major restrictions

Next Assessment Due: April 26, 2026

Saved to Notion âœ“
Patient profile updated with current scores!"
```

### Claude Commands Trainers Can Use:

1. **Log Workout:** Just describe the session naturally
2. **Check Progress:** "How is [patient name] doing?"
3. **View Recent:** "Show me [patient]'s last 2 weeks"
4. **Find Patient:** "Find patient Rahul Sharma"
5. **Who Needs Attention:** "Which patients missed workouts this week?"
6. **Generate Report:** "Create monthly report for [patient]"

---

## 3. Automation Workflows (Zapier)

### Workflow 1: Weekly Summary (Every Sunday 8 PM)

**Trigger:** Schedule - Every Sunday at 8:00 PM

**Steps:**
1. Get all active patients from Notion
2. For each patient:
   - Get workout logs from past 7 days
   - Send to Claude API to generate summary
   - Create entry in Weekly Logs database
   - Send WhatsApp message
   - Send Email
   - Mark as sent

**WhatsApp Message Template:**
```
Hi [Name]! ğŸ’ª

Your Weekly Fitness Update:

ğŸ“Š This Week:
- Sessions: [X] completed
- Total Time: [X] minutes
- Overall Rating: [X]/5

ğŸ¯ Progress:
[AI-generated summary of improvements]

âš ï¸ Points to Note:
[Any concerns mentioned by trainer]

ğŸ’¡ Focus Next Week:
[Recommendations]

Keep it up! ğŸ”¥

View full report: [Notion Link]
```

**Email Template:**
```
Subject: Your Weekly Progress - [Week of Date]

[HTML formatted email with:
- Session summary table
- Detailed improvements
- Exercise breakdown
- Trainer comments
- Photos/charts if available
- Next week's plan]
```

---

### Workflow 2: Monthly Summary (Last Day of Month, 7 PM)

**Trigger:** Schedule - Last day of each month at 7:00 PM

**Steps:**
1. Get all active patients
2. For each patient:
   - Get all workout logs from past month
   - Get body measurements (start vs end)
   - Send to Claude to generate comprehensive summary
   - Create entry in Monthly Logs database
   - Send detailed email
   - Send WhatsApp summary with link

**Monthly Email Template:**
```
Subject: Your Monthly Progress Report - [Month Year]

Dear [Name],

Here's your complete fitness summary for [Month]:

ğŸ“ˆ TRAINING SUMMARY
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
â€¢ Total Sessions: [X]
â€¢ Total Training Time: [X] hours
â€¢ Attendance Rate: [X]%
â€¢ Average Session Rating: [X]/5

ğŸ“Š BODY MEASUREMENTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Weight: [Start] â†’ [End] ([Change])
Chest: [Start] â†’ [End] ([Change])
Waist: [Start] â†’ [End] ([Change])
[Other measurements]

ğŸ’ª KEY ACHIEVEMENTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[AI-generated list of achievements]

ğŸ“ˆ IMPROVEMENTS NOTICED
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[Specific improvements from trainer logs]

âš ï¸ CHALLENGES & CONCERNS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[Any recurring issues]

ğŸ¯ NEXT MONTH FOCUS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[Personalized recommendations]

ğŸ’¬ TRAINER'S COMMENTS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[Overall assessment from trainer]

Keep up the excellent work!

Your Training Team
```

---

### Workflow 3: Assessment Reminder (2 Weeks Before Due)

**Trigger:** Schedule - Daily check at 9:00 AM

**Logic:**
- Find patients whose last assessment was 5.5 months ago
- Send reminder to trainer and patient

**Messages:**
```
To Trainer (Email):
"Assessment Due: [Patient Name]'s 6-month assessment is due in 2 weeks. 
Please schedule and complete before [Date]."

To Patient (WhatsApp):
"Hi [Name]! Your 6-month progress assessment is coming up soon. 
Your trainer will reach out to schedule. 
Looking forward to celebrating your progress! ğŸ‰"
```

---

### Workflow 4: Injury Alert

**Trigger:** New workout log created in Notion with concerns

**Condition:** "Concerns/Issues" field contains keywords: pain, injury, hurt, discomfort

**Action:**
- Send immediate email to gym manager
- Tag patient profile with "Needs Attention"
- Send WhatsApp to patient: "We noticed you had some discomfort. Our team will follow up."

---

## 4. Claude System Prompts

### Prompt 1: Workout Logging System Prompt

```
You are an AI assistant for Scientific Gym trainers helping them log workout sessions.

Your role:
1. Listen to natural language workout descriptions
2. Extract structured data
3. Identify improvements and concerns
4. Provide clear confirmations
5. Save to Notion database

Required data to extract:
- Patient name (must identify from context)
- Date (default to today if not mentioned)
- Duration (default 60 min if not specified)
- Exercises with sets, reps, weight
- What's improving
- What concerns exist
- Overall session quality

IMPORTANT RULES:
- Be conversational and supportive
- Don't ask for every detail - use smart defaults
- If patient name is ambiguous, ask for clarification
- If serious injury mentioned, flag as urgent
- Always confirm before saving

Response format:
1. Confirm what you understood
2. Ask clarifying questions only if critical info missing
3. When ready, output JSON for database

JSON structure:
{
  "patient_name": "string",
  "date": "YYYY-MM-DD",
  "duration": number,
  "exercises": "detailed text",
  "focus_areas": ["array"],
  "noticed": "what trainer observed",
  "improving": "positive progress",
  "concerns": "issues or problems",
  "rating": "Excellent|Good|Average|Below Average|Poor"
}
```

### Prompt 2: Weekly Summary Generation

```
You are an AI fitness coach generating weekly progress summaries.

Input: Array of workout logs from past 7 days
Output: Motivational, data-driven summary

Structure:
1. Opening (personalized greeting)
2. Week overview (sessions, time, consistency)
3. Key improvements (specific examples from logs)
4. Concerns noted (if any)
5. Recommendations for next week
6. Motivational closing

Tone: Encouraging, specific, actionable
Length: 150-200 words for WhatsApp, 400-500 for email
Use emojis: âœ“ for achievements, âš ï¸ for concerns, ğŸ’¡ for tips
```

### Prompt 3: Monthly Report Generation

```
You are an AI fitness coach creating comprehensive monthly reports.

Input: 
- All workout logs from month
- Body measurements (start vs end)
- Assessment data if available

Output: Detailed progress report

Structure:
1. Executive Summary (2-3 sentences)
2. Training Summary (sessions, time, consistency metrics)
3. Physical Changes (measurements, weight)
4. Performance Analysis (what improved, patterns noticed)
5. Challenges (recurring issues, concerns)
6. Goal Progress (how close to targets)
7. Next Month Strategy (specific recommendations)
8. Trainer Commentary (overall assessment)

Tone: Professional yet warm, data-driven, motivational
Length: 500-800 words
Include specific numbers and percentages
```

---

## 5. Technical Implementation

### Stack:
- **Backend:** Python + FastAPI
- **Database:** Notion (via Notion API)
- **AI:** Claude Sonnet 4.5 (via Anthropic API)
- **Automation:** Zapier
- **Communication:** Twilio (WhatsApp) + Gmail
- **Hosting:** Railway or Render

### Key API Endpoints:

```
POST /api/chat
- Trainer sends message
- Claude processes and extracts data
- Returns confirmation

POST /api/workout/log
- Save workout to Notion
- Trigger Zapier if injury detected

POST /api/assessment/create
- Create new assessment
- Update patient current scores

POST /api/reports/weekly
- Generate weekly summary for patient
- Called by Zapier automation

POST /api/reports/monthly
- Generate monthly summary
- Called by Zapier automation

GET /api/patients/{id}/profile
- Get complete 360Â° profile
- All related data
```

---

## 6. Setup Sequence

### Phase 1: Database Setup (Day 1-2)
1. Create Notion workspace
2. Set up 6 databases with exact structure above
3. Create relations between databases
4. Add sample data (3-5 test patients)

### Phase 2: Backend Setup (Day 3-5)
1. Deploy FastAPI backend
2. Connect to Notion API
3. Integrate Claude API
4. Test workout logging
5. Test assessment creation

### Phase 3: Automation (Day 6-7)
1. Create Zapier account
2. Set up 4 workflows
3. Configure WhatsApp templates
4. Configure email templates
5. Test end-to-end

### Phase 4: Testing (Day 8-10)
1. Log 10-15 sample workouts
2. Create 2-3 sample assessments
3. Manually trigger weekly summary
4. Manually trigger monthly summary
5. Verify WhatsApp and email delivery

### Phase 5: Training & Launch (Day 11-14)
1. Train all trainers (2-hour session)
2. Migrate existing patient data
3. Start with 5-10 pilot patients
4. Gather feedback
5. Adjust and optimize

---

## 7. Cost Breakdown

### Monthly Costs:
- **Notion Team:** $8 Ã— 5 users = $40
- **Claude API:** ~$100/month (500 logs + reports)
- **Zapier Professional:** $49/month (750 tasks)
- **Twilio WhatsApp:** $50/month (~1000 messages)
- **Hosting (Railway):** $5-20/month
- **Domain + SSL:** $2/month
**Total: ~$250-270/month**

### One-Time Costs:
- **Setup & Development:** $3,000-5,000 (or DIY)
- **Data Migration:** $500
- **Training:** $500
**Total: ~$4,000-6,000**

---

## 8. Success Metrics

### Operational:
- Workout logging time: <2 min per session (vs 10 min manual)
- Assessment completion: 100% on time
- Report delivery: >99% success rate

### Engagement:
- Patient report open rate: >70%
- Trainer adoption: 100% daily use
- Patient satisfaction: >4.5/5

### Clinical:
- Average score improvement: +10 points per 6 months
- Injury early detection: Catch 100% of reported concerns
- Program adherence: >80% attendance

---

## Quick Start Checklist

### Week 1:
- [ ] Sign up for all accounts (Notion, Claude, Zapier, Twilio, Gmail)
- [ ] Create Notion databases (use structure above)
- [ ] Set up Notion integration and get API key
- [ ] Deploy backend to Railway/Render
- [ ] Test Claude conversation for workout logging

### Week 2:
- [ ] Create Zapier automations (all 4 workflows)
- [ ] Configure WhatsApp templates
- [ ] Configure email templates  
- [ ] Test complete flow with sample data
- [ ] Create trainer guide document

### Week 3:
- [ ] Train all trainers (hands-on session)
- [ ] Add 5 test patients to system
- [ ] Log workouts for 1 week
- [ ] Generate and send test reports
- [ ] Gather feedback and adjust

### Week 4:
- [ ] Migrate all existing patient data
- [ ] Go live with all patients
- [ ] Monitor for issues
- [ ] Collect feedback from patients
- [ ] Optimize based on real usage

---

## Next Steps

**Ready to start?** 

1. Create Notion account and databases first
2. I'll provide step-by-step implementation guide
3. We'll build and test each component
4. Train your team
5. Launch!

The system is designed to be:
- âœ… Simple for trainers (just talk to Claude)
- âœ… Comprehensive for tracking (all data captured)
- âœ… Automated for patients (weekly/monthly updates)
- âœ… Scalable (works for 10 or 1000 patients)

Questions? Need clarification on any section? Let me know!
